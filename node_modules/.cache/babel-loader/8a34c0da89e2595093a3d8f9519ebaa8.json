{"ast":null,"code":"var _jsxFileName = \"/Users/fz/Development/calculator/src/component/App.js\";\nimport React from \"react\";\nimport DisplayRow from \"./DisplayRow\";\nimport ButtonPanel from \"./ButtonPanel\";\nimport { getActiveRow, getActiveCol, decrementActiveCol, displayChars, displayCols, initialiseState, nextCol, nextRow, checkWord, dotd, wotd, wordBtns, clearWordBtns, WORDLEN, NUMTRIES } from \"./AppVars\";\nimport \"./App.css\"; //import { check } from \"prettier\";\n\nfunction createResultGrid() {\n  var amberSq = String.fromCodePoint(0x1F7E8);\n  var greenSq = String.fromCodePoint(0x1F7E9);\n  var blackSq = String.fromCodePoint(0x2B1B);\n  var resGrid = \"\";\n  var maxSq = getActiveRow() * WORDLEN + getActiveCol();\n\n  for (var i = 0; i < maxSq; i++) {\n    if (displayCols[i] === \"green\") {\n      resGrid = resGrid + greenSq;\n    } else if (displayCols[i] === \"orange\") {\n      resGrid = resGrid + amberSq;\n    } else if (displayCols[i] === \"white\") {\n      resGrid = resGrid + blackSq;\n    }\n\n    if ((i + 1) % WORDLEN === 0) {\n      resGrid = resGrid + \"\\n\";\n    }\n  }\n\n  return resGrid;\n}\n\nconst copyToClipboard = (content, doc) => {\n  const el = doc.createElement('textarea');\n  el.value = content;\n  doc.body.appendChild(el);\n  el.select();\n  doc.execCommand('copy');\n  doc.body.removeChild(el);\n};\n\nexport default class App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      numTries: 0\n    };\n\n    this.setButtonBGCGrey = btn => {\n      btn.setState({\n        bgColor: \"#DEB887\"\n      });\n    };\n\n    this.handleClick = btn => {\n      var index = getActiveRow() * WORDLEN + getActiveCol();\n      var buttonName = btn.props.name;\n      var copyTxt = \"\";\n      var resGrid = \"\";\n      var okToCopy = false;\n      var doc = document;\n\n      if (buttonName === \"<=\") {\n        if (getActiveCol() > 0) {\n          displayChars[index - 1] = \"!\";\n          displayCols[index - 1] = \"black\";\n          wordBtns.pop();\n          decrementActiveCol();\n          this.setState({\n            numTries: this.numTries + 1\n          });\n        }\n\n        return;\n      }\n\n      if (buttonName === \"Enter\") {\n        if (getActiveCol() === WORDLEN) {\n          var res = checkWord();\n\n          if (res === 0) {\n            alert(\"Invalid word\");\n            return;\n          } else if (res === 1) {\n            nextRow();\n\n            if (getActiveRow() === NUMTRIES) {\n              resGrid = createResultGrid();\n              copyTxt = \"Puzzle for \" + dotd.toLocaleDateString() + \"\\n\";\n              copyTxt = copyTxt + (getActiveRow() + 1) + \"/\" + NUMTRIES + \"\\n\\n\";\n              copyTxt = copyTxt + resGrid + \"\\n\";\n              okToCopy = window.confirm(\"You Lost!\\nThe word was \" + wotd + \"\\n\\n\" + copyTxt + \"\\n\" + \"Copy the result?\");\n\n              if (okToCopy) {\n                copyToClipboard(copyTxt, doc);\n              }\n            }\n          } else if (res === 2) {\n            resGrid = createResultGrid();\n            copyTxt = \"Puzzle for \" + dotd.toLocaleDateString() + \"\\n\";\n            copyTxt = copyTxt + (getActiveRow() + 1) + \"/\" + NUMTRIES + \"\\n\\n\";\n            copyTxt = copyTxt + resGrid + \"\\n\";\n            okToCopy = window.confirm(\"You Got It!\\n\\n\" + copyTxt + \"\\n\" + \"Copy the result?\");\n\n            if (okToCopy) {\n              copyToClipboard(copyTxt, doc);\n            }\n          }\n\n          this.setState({\n            numTries: this.numTries + 1\n          });\n          wordBtns.forEach(this.setButtonBGCGrey);\n          clearWordBtns();\n        }\n\n        return;\n      }\n\n      if (getActiveCol() >= WORDLEN) {\n        return;\n      }\n\n      displayChars[index] = buttonName;\n      displayCols[index] = \"#FFE4C4\"; // Colour = Bisque\n\n      wordBtns.push(btn);\n      nextCol();\n      this.setState({\n        numTries: this.numTries + 1\n      });\n    };\n\n    this.numTries = 0;\n    initialiseState();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"component-app\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(DisplayRow, {\n      numTries: this.numTries,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(ButtonPanel, {\n      clickHandler: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/fz/Development/calculator/src/component/App.js"],"names":["React","DisplayRow","ButtonPanel","getActiveRow","getActiveCol","decrementActiveCol","displayChars","displayCols","initialiseState","nextCol","nextRow","checkWord","dotd","wotd","wordBtns","clearWordBtns","WORDLEN","NUMTRIES","createResultGrid","amberSq","String","fromCodePoint","greenSq","blackSq","resGrid","maxSq","i","copyToClipboard","content","doc","el","createElement","value","body","appendChild","select","execCommand","removeChild","App","Component","constructor","state","numTries","setButtonBGCGrey","btn","setState","bgColor","handleClick","index","buttonName","props","name","copyTxt","okToCopy","document","pop","res","alert","toLocaleDateString","window","confirm","forEach","push","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport DisplayRow from \"./DisplayRow\";\nimport ButtonPanel from \"./ButtonPanel\";\nimport {  getActiveRow, getActiveCol, decrementActiveCol, displayChars, \n          displayCols, initialiseState, nextCol, nextRow, checkWord, dotd,\n          wotd, wordBtns, clearWordBtns, WORDLEN, NUMTRIES } from \"./AppVars\";\nimport \"./App.css\";\n//import { check } from \"prettier\";\n\nfunction createResultGrid() {\n  var amberSq = String.fromCodePoint(0x1F7E8);\n  var greenSq = String.fromCodePoint(0x1F7E9);\n  var blackSq = String.fromCodePoint(0x2B1B);\n  var resGrid = \"\";\n\n  var maxSq = getActiveRow() * WORDLEN + getActiveCol();\n  for (var i=0; i<maxSq; i++) {\n    if (displayCols[i] === \"green\") {\n      resGrid = resGrid + greenSq;\n    } else if (displayCols[i] === \"orange\") {\n      resGrid = resGrid + amberSq;\n    } else if (displayCols[i] === \"white\") {\n      resGrid = resGrid + blackSq;\n    }\n    if (((i+1) % WORDLEN) === 0) {\n      resGrid = resGrid + \"\\n\";\n    }\n  }\n  return resGrid;\n}\n\nconst copyToClipboard = (content, doc) => {\n  const el = doc.createElement('textarea');\n  el.value = content;\n  doc.body.appendChild(el);\n  el.select();\n  doc.execCommand('copy');\n  doc.body.removeChild(el);\n};\n\nexport default class App extends React.Component {\n  state = {\n    numTries: 0,\n  };\n\n  constructor() {\n    super();\n    this.numTries = 0;\n    initialiseState();\n  };\n\n  setButtonBGCGrey = btn => {\n    btn.setState({\n      bgColor: \"#DEB887\",\n    });\n  };\n\n  \n\n  handleClick = btn => {\n    var index = getActiveRow()*WORDLEN + getActiveCol();\n    var buttonName = btn.props.name;\n    var copyTxt = \"\";\n    var resGrid = \"\";\n    var okToCopy = false;\n    var doc = document;\n\n    if (buttonName === \"<=\") {\n      if (getActiveCol() > 0) {\n        displayChars[index-1] = \"!\";\n        displayCols[index-1] = \"black\"\n        wordBtns.pop();\n        decrementActiveCol();\n        this.setState({\n          numTries: this.numTries + 1,\n        }); \n      }\n      return;\n    }\n    if (buttonName === \"Enter\") {\n      if (getActiveCol() === WORDLEN) {\n        var res = checkWord();\n        if (res === 0) {\n          alert(\"Invalid word\")\n          return;\n        }\n        else if (res === 1) {\n          nextRow();\n          \n          if (getActiveRow() === NUMTRIES) {\n            resGrid = createResultGrid();\n            copyTxt = \"Puzzle for \" + dotd.toLocaleDateString() + \"\\n\";\n            copyTxt = copyTxt + (getActiveRow()+1) + \"/\" + NUMTRIES + \"\\n\\n\";\n            copyTxt = copyTxt + resGrid + \"\\n\";\n            okToCopy = window.confirm(\"You Lost!\\nThe word was \" + wotd + \"\\n\\n\" + copyTxt + \"\\n\" + \"Copy the result?\");\n            if (okToCopy) {\n              copyToClipboard(copyTxt, doc);\n            }\n          }\n        }\n        else if (res === 2) {\n          resGrid = createResultGrid();\n          copyTxt = \"Puzzle for \" + dotd.toLocaleDateString() + \"\\n\";\n          copyTxt = copyTxt + (getActiveRow()+1) + \"/\" + NUMTRIES + \"\\n\\n\";\n          copyTxt = copyTxt + resGrid + \"\\n\";\n          okToCopy = window.confirm(\"You Got It!\\n\\n\" + copyTxt + \"\\n\" + \"Copy the result?\");\n          if (okToCopy) {\n            copyToClipboard(copyTxt, doc);\n          }\n        }\n        this.setState({\n          numTries: this.numTries + 1,\n        }) \n        wordBtns.forEach(this.setButtonBGCGrey);\n        clearWordBtns();\n      }\n      return;\n    }\n    if (getActiveCol() >= WORDLEN) {\n      return;\n    }\n    displayChars[index] = buttonName;\n    displayCols[index] = \"#FFE4C4\"; // Colour = Bisque\n    wordBtns.push(btn);\n    nextCol();\n\n    this.setState({\n      numTries: this.numTries + 1,\n    })\n  };\n\n  render() {\n    return (\n      <div className=\"component-app\">\n        <DisplayRow numTries = {this.numTries} />\n        <ButtonPanel clickHandler={this.handleClick} />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}